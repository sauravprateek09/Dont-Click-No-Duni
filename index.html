<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Valentine ðŸ’–</title>
  <style>
    body {
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, #ff9a9e, #fad0c4);
      font-family: Arial, sans-serif;
      overflow: hidden;
      position: relative;
      flex-direction: column;
    }

    .box {
      background: white;
      padding: 30px 40px;
      border-radius: 20px;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      width: 340px;
      position: relative;
      z-index: 2;
    }

    img { width: 180px; margin-bottom: 15px; transition: transform 0.3s; }
    h1 { margin-bottom: 25px; }

    button {
      padding: 12px 25px;
      font-size: 18px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: transform 0.3s, left 0.3s, top 0.3s, opacity 0.8s;
      margin: 5px;
      position: relative;
    }

    #yes { background-color: #ff4d6d; color: white; z-index: 1000; position: relative; }
    #no { background-color: #adb5bd; color: white; z-index: 500; position: relative; }
    #yayGif { width: 220px; display: block; margin: 20px auto 0 auto; }

    @keyframes screenShake {
      0% { transform: translate(0px, 0px); }
      10% { transform: translate(-20px, -10px); }
      20% { transform: translate(20px, 10px); }
      30% { transform: translate(-20px, 10px); }
      40% { transform: translate(20px, -10px); }
      50% { transform: translate(-15px, 15px); }
      60% { transform: translate(15px, -15px); }
      70% { transform: translate(-10px, 20px); }
      80% { transform: translate(10px, -20px); }
      90% { transform: translate(-5px, 10px); }
      100% { transform: translate(0px, 0px); }
    }

    @keyframes noSpinBounce {
      0% { transform: rotate(0deg) translateY(0); opacity: 1; }
      25% { transform: rotate(360deg) translateY(-30px); }
      50% { transform: rotate(720deg) translateY(15px); }
      75% { transform: rotate(1080deg) translateY(-10px); }
      100% { transform: rotate(1440deg) translateY(0) scale(0); opacity: 0; }
    }

    @keyframes heartFly {
      0% { opacity: 1; transform: translate(0,0) scale(1); }
      100% { opacity: 0; transform: translate(var(--x), var(--y)) scale(0.5); }
    }

    @keyframes fallSwirl {
      0% { transform: translateY(-50px) translateX(0px) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) translateX(var(--dx)) rotate(var(--rot)); opacity: 0; }
    }

    @keyframes sparkle {
      0% { transform: translate(0,0) scale(1); opacity:1; }
      100% { transform: translate(var(--sx), var(--sy)) scale(0.3); opacity:0; }
    }

    @keyframes hahaBounce {
      0% { transform: scale(1); }
      25% { transform: scale(1.5); }
      50% { transform: scale(0.8); }
      75% { transform: scale(1.3); }
      100% { transform: scale(1); }
    }

    .heart { position: absolute; font-size: 20px; color: #ff4d6d; pointer-events: none; z-index: 900; animation: heartFly 1s forwards; }
    .emoji { position: absolute; pointer-events: none; z-index: 800; animation: fallSwirl linear forwards; }
    .star { position: absolute; color: #fffacd; font-size: 12px; pointer-events: none; z-index: 900; opacity: 1; animation: sparkle 0.8s forwards; }
    .hahaText { font-size: 60px; color: #ff4d6d; font-weight: bold; animation: hahaBounce 2s forwards; margin-top: 20px; z-index: 1500; text-align:center; }
  </style>
</head>
<body id="body">

  <div class="box" id="questionBox">
    <img src="cat.png" alt="Cute cat" id="catImg">
    <h1>Oi Duni, wana be my Valentine? ðŸ’˜</h1>
    <button id="yes">Yes</button>
    <button id="no">No</button>
  </div>

  <div class="box" id="yayBox" style="display:none;">
    <h1>YAYYYY ðŸ¥³</h1>
    <img src="yay.gif" id="yayGif">
  </div>

  <script>
    const noBtn = document.getElementById("no");
    const yesBtn = document.getElementById("yes");
    const questionBox = document.getElementById("questionBox");
    const yayBox = document.getElementById("yayBox");
    const body = document.getElementById("body");

    let noSize = 1, yesSize = 1, yesLeft = 0, yesTop = 0, clickCount = 0, freezeYesMovement = false;
    const step = 0.15; // bigger grow/shrink
    let wobbleAngle = 0;

    function animateYes() {
      if(yesBtn.style.display !== "none"){
        if(!freezeYesMovement){
          yesBtn.style.transform = `scale(${yesSize}) translate(${yesLeft}px,${yesTop}px) rotate(${Math.sin(wobbleAngle)*5}deg)`;
        } else {
          yesBtn.style.transform = `scale(${yesSize}) rotate(${Math.sin(wobbleAngle)*5}deg)`;
        }
        wobbleAngle+=0.2;
      }
      requestAnimationFrame(animateYes);
    }
    animateYes();

    function createHearts(){
      for(let i=0;i<15;i++){
        const heart=document.createElement("div");
        heart.classList.add("heart");
        heart.innerHTML="â¤ï¸";
        const rect=yesBtn.getBoundingClientRect();
        heart.style.left=rect.left+rect.width/2+"px";
        heart.style.top=rect.top+rect.height/2+"px";
        const angle=Math.random()*2*Math.PI;
        const distance=100+Math.random()*50;
        heart.style.setProperty("--x",distance*Math.cos(angle)+"px");
        heart.style.setProperty("--y",distance*Math.sin(angle)+"px");
        document.body.appendChild(heart);
        setTimeout(()=>heart.remove(),1000);
      }
    }

    function rainEmoji(emoji,count=50){ // more and bigger emojis
      for(let i=0;i<count;i++){
        const e=document.createElement("div");
        e.classList.add("emoji");
        e.innerHTML=emoji;
        e.style.left = Math.random() * window.innerWidth + "px";
        e.style.top = "-50px"; // start from top
        e.style.fontSize = (30 + Math.random() * 20) + "px"; // bigger emojis
        e.style.setProperty("--dx", (Math.random() * 100 - 50) + "px");
        e.style.setProperty("--rot", (Math.random()*720-360) + "deg");
        e.style.animationDuration = (2 + Math.random()*1) + "s"; // faster fall
        if(emoji === "ðŸŽ‰"){
          const colors=["#ff4d6d","#ffcc4d","#4dff4d","#4dd2ff","#b84dff"];
          e.style.color = colors[Math.floor(Math.random()*colors.length)];
        }
        document.body.appendChild(e);
        setTimeout(()=>e.remove(),3000); // remove after fast animation
      }
    }

    function sparkleYes() {
      for(let i=0;i<15;i++){
        const star = document.createElement("div");
        star.classList.add("star");
        star.innerHTML = "â˜…";
        const rect = yesBtn.getBoundingClientRect();
        star.style.left = (rect.left + rect.width/2 + (Math.random()*30-15)) + "px";
        star.style.top = (rect.top + rect.height/2 + (Math.random()*30-15)) + "px";
        const dx = Math.sin(Math.random()*Math.PI*2)*30;
        const dy = -(Math.random()*80 + 20);
        star.style.setProperty("--sx", dx + "px");
        star.style.setProperty("--sy", dy + "px");
        document.body.appendChild(star);
        setTimeout(()=>star.remove(),800);
      }
    }

    yesBtn.addEventListener("click",()=>{
      rainEmoji("ðŸŽ‰",50);
      rainEmoji("â¤ï¸",50);
      sparkleYes();
      questionBox.style.display="none";
      yayBox.style.display="block";
    });

    noBtn.addEventListener("click",()=>{
      clickCount++;

      if(clickCount === 3){ // triggers on 3rd click
        freezeYesMovement = true;
        body.style.animation = "screenShake 0.8s";
        noBtn.style.animation = "noSpinBounce 0.8s forwards";
        createHearts();

        const haha = document.createElement("div");
        haha.innerText = "HAHAHA!";
        haha.classList.add("hahaText");
        body.appendChild(haha);
        setTimeout(() => haha.remove(), 2000);

        setTimeout(() => { noBtn.style.display = "none"; body.style.animation = ""; },800);

      } else if(clickCount < 3){
        noSize -= step; if(noSize<0.2) noSize=0.2;
        const shakeX = (Math.random()*15-7.5), shakeY = (Math.random()*15-7.5);
        noBtn.style.transform = `scale(${noSize}) translate(${shakeX}px,${shakeY}px)`;
        yesSize += step; yesLeft +=7; yesTop +=3;
        rainEmoji("ðŸ˜­",50); // bigger, faster crying emojis

      } else {
        noSize -= step/2; noBtn.style.transform=`scale(${noSize})`;
        if(!freezeYesMovement){ yesSize+=step/2; yesLeft+=2; yesTop+=1; }
      }
    });

  </script>
</body>
</html>
